{% block body %}
	<header class="fixed top-0 left-1/2 -translate-x-1/2 w-full max-w-[1440px] z-50 bg-white border-b border-gray-200">
		<div class="flex mx-auto justify-between items-center px-4 sm:px-6 lg:px-12 py-4">

			<h1 class="md:text-3xl text-lg font-bold text-primary hover:text-hover transition-colors">
				<a href="{{ base_path }}/dashboard" class="hover:underline">Dashboard</a>
			</h1>

			<div class="flex gap-4 items-center">
				<button id="logoutBtn" class="cursor-pointer bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition-colors">
					Log Out
				</button>
				<div id="userAvatar" class="h-10 w-10 bg-primary flex justify-center items-center rounded-full">
					<p id="userInitial" class="text-white font-semibold text-sm"></p>
				</div>
			</div>

		</div>
	</header>

	<!-- Spacer to prevent content from hiding under fixed header -->


	<script>
		// Dashboard Layout Initialization
(function () {
const loadDashboardLayout = () => { // Check authentication
if (typeof isAuthenticated === 'function' && !isAuthenticated()) {
window.location.href = '/auth/login';


return;
}

// Load session and display user info
const session = JSON.parse(localStorage.getItem('ticketapp_session') || '{}');

if (session.name) {
const userInitial = document.getElementById('userInitial');
if (userInitial) {
userInitial.textContent = session.name.charAt(0).toUpperCase();
}
}

// Logout handler
const logoutBtn = document.getElementById('logoutBtn');
if (logoutBtn) {
logoutBtn.addEventListener('click', () => {
if (typeof logout === 'function') {
logout();
} else { // Fallback logout
localStorage.removeItem('ticketapp_session');
window.location.href = '/auth/login';

}
});
}
};

// Run on page load
if (document.readyState === 'loading') {
document.addEventListener('DOMContentLoaded', loadDashboardLayout);
} else {
loadDashboardLayout();
}
})();
	</script>

	{% block scripts %}{% endblock %}
{% endblock %}
